@model SIRH.Web.Models.PresupuestoModel

@{
    if (Model != null)
    {
        if (Model.CodigosPresupuestarios.Count() < 1)
        {
            <div class="alert alert-danger" role="alert">
                No se encontraron resultados para la búsqueda solicitada.
            </div>
        }
        else
        {
            <div class="card">
                <div class="card-header">
                    Resultados
                </div>
                <div class="card-body">
                    @Html.DropDownListFor(model => model.CodigoPresupuesto,
                    Model.CodigosPresupuestarios as SelectList, "Seleccione una opción",
                    new { @id = "codigopresupuestarioseleccionado", @class = "form-control" })
                </div>
                <div class="card-footer">
                    <button type="button" class="btn btn-secondary" onclick="return CargarDatoSelect()">Aceptar</button>
                </div>
            </div>
            <script>
                function CargarDatoSelect() {
                    var opcion = $("#codigopresupuestarioseleccionado option:selected").text();
                    if (opcion == 'Seleccione una opción') {
                        $('#buscar-presupuesto').modal('hide');
                    } else {
                        CargarDato(opcion, 'presupuesto');
                    }
                }
            </script>
        }
    }

}

